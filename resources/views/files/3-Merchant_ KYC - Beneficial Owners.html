<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beneficial Owners</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        window.FontAwesomeConfig = { autoReplaceSvg: 'nest' };
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            dark: '#2D3A74',
                            accent: '#4055A8',
                            orange: '#FF7C00',
                            orangeHover: '#E56D00',
                            bg: '#F7F8FA',
                            border: '#E5E7EB',
                            inputBorder: '#D1D5DB',
                            textSubtle: '#595959',
                            textMuted: '#9A9A9A',
                            error: '#E74C3C'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>
        ::-webkit-scrollbar { display: none; }
        body { font-family: 'Inter', sans-serif; }
        .step-active {
            background: rgba(45,58,116,0.08);
            border-left: 4px solid #FF7C00;
        }
        .step-completed {
            border-left: 4px solid #27AE60;
        }
        .upload-zone {
            border: 2px dashed #D1D5DB;
            transition: all 0.2s;
        }
        .upload-zone:hover {
            border-color: #4055A8;
            background: rgba(64,85,168,0.02);
        }
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #4055A8;
            box-shadow: 0 0 0 3px rgba(64,85,168,0.1);
        }
        .error-field {
            border-color: #E74C3C;
        }
        .toast {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .modal {
            animation: fadeIn 0.2s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="h-screen overflow-hidden bg-brand-bg flex antialiased">

    <aside id="stepper-nav" class="w-1/5 bg-white h-full border-r border-brand-border flex flex-col pt-8">
        <div class="px-6 mb-8 flex justify-center">
            <div class="flex items-center gap-2">
                <div class="text-2xl font-bold tracking-tight text-brand-dark">2iZii</div>
                <div class="h-2 w-2 rounded-full bg-brand-orange mt-1"></div>
            </div>
        </div>

        <nav class="flex-1 px-4">
            <div class="space-y-1">
                <div class="step-completed py-3 px-4 rounded-r-lg cursor-pointer hover:bg-gray-50">
                    <div class="flex items-center gap-3">
                        <span class="flex items-center justify-center w-6 h-6 rounded-full bg-green-500 text-white text-xs">
                            <i class="fa-solid fa-check"></i>
                        </span>
                        <span class="text-[15px] font-semibold text-brand-dark">Company Information</span>
                    </div>
                </div>
                
                <div class="step-active py-3 px-4 rounded-r-lg cursor-pointer">
                    <div class="flex items-center gap-3">
                        <span class="flex items-center justify-center w-6 h-6 rounded-full bg-brand-orange text-white text-xs font-semibold">2</span>
                        <span class="text-[15px] font-semibold text-brand-dark">Beneficial Owners</span>
                    </div>
                </div>

                <div class="py-3 px-4 rounded-r-lg cursor-pointer hover:bg-gray-50">
                    <div class="flex items-center gap-3">
                        <span class="flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 text-gray-600 text-xs font-medium">3</span>
                        <span class="text-sm text-gray-600">Board Members / GM</span>
                    </div>
                </div>

                <div class="py-3 px-4 rounded-r-lg cursor-pointer hover:bg-gray-50">
                    <div class="flex items-center gap-3">
                        <span class="flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 text-gray-600 text-xs font-medium">4</span>
                        <span class="text-sm text-gray-600">Contact Person</span>
                    </div>
                </div>

                <div class="py-3 px-4 rounded-r-lg cursor-pointer hover:bg-gray-50">
                    <div class="flex items-center gap-3">
                        <span class="flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 text-gray-600 text-xs font-medium">5</span>
                        <span class="text-sm text-gray-600">Purpose of Service</span>
                    </div>
                </div>

                <div class="py-3 px-4 rounded-r-lg cursor-pointer hover:bg-gray-50">
                    <div class="flex items-center gap-3">
                        <span class="flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 text-gray-600 text-xs font-medium">6</span>
                        <span class="text-sm text-gray-600">Sales Channels</span>
                    </div>
                </div>

                <div class="py-3 px-4 rounded-r-lg cursor-pointer hover:bg-gray-50">
                    <div class="flex items-center gap-3">
                        <span class="flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 text-gray-600 text-xs font-medium">7</span>
                        <span class="text-sm text-gray-600">Bank Information</span>
                    </div>
                </div>

                <div class="py-3 px-4 rounded-r-lg cursor-pointer hover:bg-gray-50">
                    <div class="flex items-center gap-3">
                        <span class="flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 text-gray-600 text-xs font-medium">8</span>
                        <span class="text-sm text-gray-600">Authorized Signatories</span>
                    </div>
                </div>

                <div class="py-3 px-4 rounded-r-lg cursor-pointer hover:bg-gray-50">
                    <div class="flex items-center gap-3">
                        <span class="flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 text-gray-600 text-xs font-medium">9</span>
                        <span class="text-sm text-gray-600">Review & Submit</span>
                    </div>
                </div>
            </div>
        </nav>
    </aside>

    <main id="main-content" class="flex-1 h-full overflow-y-auto pb-24">
        <div class="max-w-[900px] mx-auto bg-white p-12 min-h-full">
            
            <div id="page-header" class="mb-8">
                <h1 class="text-[28px] font-bold text-brand-dark mb-2">Beneficial Owners</h1>
                <p class="text-[15px] text-[#6A6A6A]">Provide details of individuals who hold 25% or more ownership in the business.</p>
            </div>

            <div id="info-banner" class="bg-[#FFF6E8] border-l-4 border-brand-orange p-4 rounded-lg mb-8">
                <p class="text-[13px] font-medium text-[#8A6C1A]">
                    <i class="fa-solid fa-info-circle mr-2"></i>
                    According to EU AML regulations, you must declare all individuals with 25% or more ownership.
                </p>
            </div>

            <form id="bo-form">
                <div id="beneficial-owners-container">
                    
                    <div class="beneficial-owner-card bg-white border border-[#E0E0E0] rounded-xl p-6 mb-6" data-bo-index="1">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-lg font-semibold text-brand-dark">Beneficial Owner #1</h3>
                            <button type="button" class="remove-bo-btn text-red-500 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-colors duration-200 hidden">
                                <i class="fa-solid fa-trash text-sm"></i>
                            </button>
                        </div>

                        <div class="space-y-8">
                            
                            <div class="personal-info">
                                <h4 class="text-base font-medium text-brand-dark mb-4">Personal Information</h4>
                                <div class="grid grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">First Name <span class="text-brand-error">*</span></label>
                                        <input type="text" placeholder="Enter first name" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Last Name <span class="text-brand-error">*</span></label>
                                        <input type="text" placeholder="Enter last name" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Date of Birth <span class="text-brand-error">*</span></label>
                                        <input type="date" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Nationality <span class="text-brand-error">*</span></label>
                                        <select class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                            <option value="">Select nationality</option>
                                            <option>Norwegian</option>
                                            <option>Danish</option>
                                            <option>Swedish</option>
                                            <option>Finnish</option>
                                            <option>German</option>
                                            <option>Other</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Email Address <span class="text-gray-400 text-xs">(Optional)</span></label>
                                        <input type="email" placeholder="name@example.com" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number <span class="text-gray-400 text-xs">(Optional)</span></label>
                                        <input type="tel" placeholder="+47 ..." class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm">
                                    </div>
                                </div>
                            </div>

                            <div class="identification-info">
                                <h4 class="text-base font-medium text-brand-dark mb-4">Identification Details</h4>
                                <div class="grid grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Identification Type <span class="text-brand-error">*</span></label>
                                        <select class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                            <option value="">Select ID type</option>
                                            <option>Passport</option>
                                            <option>National ID</option>
                                            <option>Driver's License</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Identification Number <span class="text-brand-error">*</span></label>
                                        <input type="text" placeholder="Enter ID number" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">ID Expiry Date <span class="text-brand-error">*</span></label>
                                        <input type="date" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Country of Issue <span class="text-brand-error">*</span></label>
                                        <select class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                            <option value="">Select country</option>
                                            <option>Norway</option>
                                            <option>Denmark</option>
                                            <option>Sweden</option>
                                            <option>Finland</option>
                                            <option>Germany</option>
                                            <option>Other</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="ownership-info">
                                <h4 class="text-base font-medium text-brand-dark mb-4">Ownership Details</h4>
                                <div class="grid grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Ownership Percentage <span class="text-brand-error">*</span></label>
                                        <div class="relative">
                                            <input type="number" min="1" max="100" placeholder="25" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm pr-8 ownership-percentage" required>
                                            <span class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm">%</span>
                                        </div>
                                    </div>
                                    <div></div>
                                    <div class="col-span-2">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Address Line 1 <span class="text-brand-error">*</span></label>
                                        <input type="text" placeholder="Street address" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                    </div>
                                    <div class="col-span-2">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Address Line 2 <span class="text-gray-400 text-xs">(Optional)</span></label>
                                        <input type="text" placeholder="Apartment, suite, unit, etc." class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">City <span class="text-brand-error">*</span></label>
                                        <input type="text" placeholder="City name" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Postal Code <span class="text-brand-error">*</span></label>
                                        <input type="text" placeholder="Postal code" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Country <span class="text-brand-error">*</span></label>
                                        <select class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                            <option value="">Select country</option>
                                            <option>Norway</option>
                                            <option>Denmark</option>
                                            <option>Sweden</option>
                                            <option>Finland</option>
                                            <option>Germany</option>
                                            <option>Other</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="documents-section">
                                <h4 class="text-base font-medium text-brand-dark mb-4">Document Uploads</h4>
                                <div class="space-y-4">
                                    <div class="upload-zone bg-white rounded-xl p-6 text-center cursor-pointer">
                                        <i class="fa-solid fa-cloud-arrow-up text-3xl text-gray-400 mb-3"></i>
                                        <p class="text-sm font-medium text-gray-700 mb-1">Proof of Identity <span class="text-brand-error">*</span></p>
                                        <p class="text-xs text-gray-500">Upload PDF / JPG / PNG (Max 5MB)</p>
                                        <input type="file" class="hidden" accept=".pdf,.jpg,.jpeg,.png">
                                    </div>

                                    <div class="upload-zone bg-white rounded-xl p-6 text-center cursor-pointer">
                                        <i class="fa-solid fa-cloud-arrow-up text-3xl text-gray-400 mb-3"></i>
                                        <p class="text-sm font-medium text-gray-700 mb-1">Proof of Address <span class="text-brand-error">*</span></p>
                                        <p class="text-xs text-gray-500">Upload PDF / JPG / PNG (Max 5MB)</p>
                                        <input type="file" class="hidden" accept=".pdf,.jpg,.jpeg,.png">
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>

                <div class="text-center mb-8">
                    <button type="button" id="add-bo-btn" class="inline-flex items-center gap-2 px-8 py-2.5 border border-brand-accent text-brand-accent bg-white hover:bg-blue-50 font-medium rounded-lg transition-colors duration-200">
                        <i class="fa-solid fa-plus text-sm"></i>
                        <span>Add Another Beneficial Owner</span>
                    </button>
                </div>

            </form>
        </div>
    </main>

    <div id="action-bar" class="fixed bottom-0 left-0 right-0 bg-white border-t border-brand-border h-[70px] flex items-center justify-between px-12 shadow-lg z-50">
        <button onclick="goBack()" class="px-6 py-2.5 border border-brand-dark text-brand-dark bg-white hover:bg-gray-50 font-medium rounded-lg transition-colors duration-200 flex items-center gap-2">
            <i class="fa-solid fa-arrow-left text-sm"></i>
            <span>Back</span>
        </button>

        <div class="flex items-center gap-4">
            <button onclick="saveDraft()" class="px-6 py-2.5 border border-brand-orange text-brand-orange bg-white hover:bg-orange-50 font-medium rounded-lg transition-colors duration-200 flex items-center gap-2">
                <i class="fa-regular fa-floppy-disk text-sm"></i>
                <span>Save as Draft</span>
            </button>

            <button onclick="continueNext()" class="px-8 py-2.5 bg-brand-orange hover:bg-brand-orangeHover text-white font-semibold rounded-lg transition-colors duration-200 flex items-center gap-2">
                <span>Continue to Board Members</span>
                <i class="fa-solid fa-arrow-right text-sm"></i>
            </button>
        </div>
    </div>

    <div id="toast-container" class="fixed top-6 right-6 z-50"></div>

    <div id="confirmation-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
        <div class="modal bg-white rounded-lg p-6 max-w-md w-full mx-4">
            <div class="text-center">
                <i class="fa-solid fa-triangle-exclamation text-4xl text-yellow-500 mb-4"></i>
                <h3 class="text-lg font-semibold text-gray-900 mb-2">Remove Beneficial Owner</h3>
                <p class="text-sm text-gray-600 mb-6">Are you sure you want to remove this beneficial owner? This action cannot be undone.</p>
                <div class="flex gap-3 justify-center">
                    <button onclick="cancelRemove()" class="px-4 py-2 border border-gray-300 text-gray-700 bg-white hover:bg-gray-50 rounded-lg font-medium">
                        Cancel
                    </button>
                    <button onclick="confirmRemove()" class="px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium">
                        Remove
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let boCount = 1;
        let boToRemove = null;

        window.addEventListener('load', function() {
            setupUploadZones();
            updateRemoveButtons();
            setupOwnershipValidation();
        });

        function setupUploadZones() {
            document.addEventListener('click', function(e) {
                if (e.target.closest('.upload-zone')) {
                    const zone = e.target.closest('.upload-zone');
                    const input = zone.querySelector('input[type="file"]');
                    input.click();
                }
            });

            document.addEventListener('change', function(e) {
                if (e.target.type === 'file' && e.target.files.length > 0) {
                    const zone = e.target.closest('.upload-zone');
                    const fileName = e.target.files[0].name;
                    zone.innerHTML = `
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <i class="fa-solid fa-file-pdf text-2xl text-brand-orange"></i>
                                <div class="text-left">
                                    <p class="text-sm font-medium text-gray-900">${fileName}</p>
                                    <p class="text-xs text-gray-500">Uploaded successfully</p>
                                </div>
                            </div>
                            <button onclick="removeFile(this)" class="text-red-500 hover:text-red-700">
                                <i class="fa-solid fa-trash text-sm"></i>
                            </button>
                        </div>
                    `;
                    zone.classList.add('bg-green-50', 'border-green-300');
                }
            });
        }

        function setupOwnershipValidation() {
            document.addEventListener('input', function(e) {
                if (e.target.classList.contains('ownership-percentage')) {
                    validateOwnershipTotal();
                }
            });
        }

        function validateOwnershipTotal() {
            const percentageInputs = document.querySelectorAll('.ownership-percentage');
            let total = 0;
            
            percentageInputs.forEach(input => {
                const value = parseFloat(input.value) || 0;
                total += value;
            });

            percentageInputs.forEach(input => {
                if (total > 100) {
                    input.classList.add('error-field');
                } else {
                    input.classList.remove('error-field');
                }
            });
        }

        document.getElementById('add-bo-btn').addEventListener('click', function() {
            boCount++;
            const container = document.getElementById('beneficial-owners-container');
            const newBOCard = createBOCard(boCount);
            container.appendChild(newBOCard);
            updateRemoveButtons();
            setupUploadZones();
            newBOCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
        });

        function createBOCard(index) {
            const cardHTML = `
                <div class="beneficial-owner-card bg-white border border-[#E0E0E0] rounded-xl p-6 mb-6" data-bo-index="${index}">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-semibold text-brand-dark">Beneficial Owner #${index}</h3>
                        <button type="button" class="remove-bo-btn text-red-500 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-colors duration-200">
                            <i class="fa-solid fa-trash text-sm"></i>
                        </button>
                    </div>
                    <div class="space-y-8">
                        <div class="personal-info">
                            <h4 class="text-base font-medium text-brand-dark mb-4">Personal Information</h4>
                            <div class="grid grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">First Name <span class="text-brand-error">*</span></label>
                                    <input type="text" placeholder="Enter first name" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Last Name <span class="text-brand-error">*</span></label>
                                    <input type="text" placeholder="Enter last name" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Date of Birth <span class="text-brand-error">*</span></label>
                                    <input type="date" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Nationality <span class="text-brand-error">*</span></label>
                                    <select class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                        <option value="">Select nationality</option>
                                        <option>Norwegian</option>
                                        <option>Danish</option>
                                        <option>Swedish</option>
                                        <option>Finnish</option>
                                        <option>German</option>
                                        <option>Other</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Email Address <span class="text-gray-400 text-xs">(Optional)</span></label>
                                    <input type="email" placeholder="name@example.com" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number <span class="text-gray-400 text-xs">(Optional)</span></label>
                                    <input type="tel" placeholder="+47 ..." class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm">
                                </div>
                            </div>
                        </div>

                        <div class="identification-info">
                            <h4 class="text-base font-medium text-brand-dark mb-4">Identification Details</h4>
                            <div class="grid grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Identification Type <span class="text-brand-error">*</span></label>
                                    <select class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                        <option value="">Select ID type</option>
                                        <option>Passport</option>
                                        <option>National ID</option>
                                        <option>Driver's License</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Identification Number <span class="text-brand-error">*</span></label>
                                    <input type="text" placeholder="Enter ID number" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">ID Expiry Date <span class="text-brand-error">*</span></label>
                                    <input type="date" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Country of Issue <span class="text-brand-error">*</span></label>
                                    <select class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                        <option value="">Select country</option>
                                        <option>Norway</option>
                                        <option>Denmark</option>
                                        <option>Sweden</option>
                                        <option>Finland</option>
                                        <option>Germany</option>
                                        <option>Other</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="ownership-info">
                            <h4 class="text-base font-medium text-brand-dark mb-4">Ownership Details</h4>
                            <div class="grid grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Ownership Percentage <span class="text-brand-error">*</span></label>
                                    <div class="relative">
                                        <input type="number" min="1" max="100" placeholder="25" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm pr-8 ownership-percentage" required>
                                        <span class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm">%</span>
                                    </div>
                                </div>
                                <div></div>
                                <div class="col-span-2">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Address Line 1 <span class="text-brand-error">*</span></label>
                                    <input type="text" placeholder="Street address" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                </div>
                                <div class="col-span-2">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Address Line 2 <span class="text-gray-400 text-xs">(Optional)</span></label>
                                    <input type="text" placeholder="Apartment, suite, unit, etc." class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">City <span class="text-brand-error">*</span></label>
                                    <input type="text" placeholder="City name" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Postal Code <span class="text-brand-error">*</span></label>
                                    <input type="text" placeholder="Postal code" class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Country <span class="text-brand-error">*</span></label>
                                    <select class="w-full px-4 py-2.5 border border-brand-inputBorder rounded-lg text-sm" required>
                                        <option value="">Select country</option>
                                        <option>Norway</option>
                                        <option>Denmark</option>
                                        <option>Sweden</option>
                                        <option>Finland</option>
                                        <option>Germany</option>
                                        <option>Other</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="documents-section">
                            <h4 class="text-base font-medium text-brand-dark mb-4">Document Uploads</h4>
                            <div class="space-y-4">
                                <div class="upload-zone bg-white rounded-xl p-6 text-center cursor-pointer">
                                    <i class="fa-solid fa-cloud-arrow-up text-3xl text-gray-400 mb-3"></i>
                                    <p class="text-sm font-medium text-gray-700 mb-1">Proof of Identity <span class="text-brand-error">*</span></p>
                                    <p class="text-xs text-gray-500">Upload PDF / JPG / PNG (Max 5MB)</p>
                                    <input type="file" class="hidden" accept=".pdf,.jpg,.jpeg,.png">
                                </div>

                                <div class="upload-zone bg-white rounded-xl p-6 text-center cursor-pointer">
                                    <i class="fa-solid fa-cloud-arrow-up text-3xl text-gray-400 mb-3"></i>
                                    <p class="text-sm font-medium text-gray-700 mb-1">Proof of Address <span class="text-brand-error">*</span></p>
                                    <p class="text-xs text-gray-500">Upload PDF / JPG / PNG (Max 5MB)</p>
                                    <input type="file" class="hidden" accept=".pdf,.jpg,.jpeg,.png">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            const div = document.createElement('div');
            div.innerHTML = cardHTML.trim();
            return div.firstChild;
        }

        function updateRemoveButtons() {
            const cards = document.querySelectorAll('.beneficial-owner-card');
            const removeButtons = document.querySelectorAll('.remove-bo-btn');
            
            removeButtons.forEach((btn, index) => {
                if (cards.length > 1) {
                    btn.classList.remove('hidden');
                    btn.onclick = function() {
                        boToRemove = btn.closest('.beneficial-owner-card');
                        document.getElementById('confirmation-modal').classList.remove('hidden');
                    };
                } else {
                    btn.classList.add('hidden');
                }
            });
        }

        function confirmRemove() {
            if (boToRemove) {
                boToRemove.remove();
                boToRemove = null;
                document.getElementById('confirmation-modal').classList.add('hidden');
                updateRemoveButtons();
                renumberBOCards();
                validateOwnershipTotal();
            }
        }

        function cancelRemove() {
            boToRemove = null;
            document.getElementById('confirmation-modal').classList.add('hidden');
        }

        function renumberBOCards() {
            const cards = document.querySelectorAll('.beneficial-owner-card');
            cards.forEach((card, index) => {
                card.querySelector('h3').textContent = `Beneficial Owner #${index + 1}`;
                card.setAttribute('data-bo-index', index + 1);
            });
        }

        function removeFile(btn) {
            const zone = btn.closest('.upload-zone');
            zone.innerHTML = `
                <i class="fa-solid fa-cloud-arrow-up text-3xl text-gray-400 mb-3"></i>
                <p class="text-sm font-medium text-gray-700 mb-1">Upload Document</p>
                <p class="text-xs text-gray-500">Upload PDF / JPG / PNG (Max 5MB)</p>
                <input type="file" class="hidden" accept=".pdf,.jpg,.jpeg,.png">
            `;
            zone.classList.remove('bg-green-50', 'border-green-300');
        }

        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast bg-white border-l-4 ${type === 'success' ? 'border-green-500' : 'border-red-500'} rounded-lg shadow-lg p-4 mb-3`;
            toast.innerHTML = `
                <div class="flex items-center gap-3">
                    <i class="fa-solid ${type === 'success' ? 'fa-check-circle text-green-500' : 'fa-exclamation-circle text-red-500'} text-xl"></i>
                    <p class="text-sm font-medium text-gray-900">${message}</p>
                </div>
            `;
            
            document.getElementById('toast-container').appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        function saveDraft() {
            showToast('Your progress has been saved.', 'success');
        }

        function continueNext() {
            const requiredFields = document.querySelectorAll('[required]');
            let isValid = true;
            
            requiredFields.forEach(field => {
                if (!field.value) {
                    field.classList.add('error-field');
                    isValid = false;
                } else {
                    field.classList.remove('error-field');
                }
            });

            const percentageInputs = document.querySelectorAll('.ownership-percentage');
            let total = 0;
            percentageInputs.forEach(input => {
                total += parseFloat(input.value) || 0;
            });

            if (total > 100) {
                showToast('Total ownership percentage cannot exceed 100%', 'error');
                return;
            }

            if (!isValid) {
                showToast('Please fill in all required fields', 'error');
                return;
            }

            console.log('Proceeding to Board Members...');
        }

        function goBack() {
            console.log('Going back to Company Information...');
        }
    </script>

</body>
</html>